\documentclass{standalone}
\usepackage{pgfplots}
\usepackage{sansmath}
\pgfplotsset{compat=1.16}
\definecolor{bg}{HTML}{D8D8D8}
\definecolor{std}{HTML}{1F77B4}
\definecolor{numbuffer}{HTML}{FF7F0E}
\definecolor{itoa}{HTML}{9467BD}
\definecolor{lexical}{HTML}{D62728}
\definecolor{null}{HTML}{2CA02C}
\tikzset{
  on layer/.code={
    \pgfonlayer{#1}\begingroup
    \aftergroup\endpgfonlayer
    \aftergroup\endgroup
  },
}
\pgfplotsset{
  every axis/.append style={
    x=5pt,
    height=3.5in,
    xmin=0.1,
    ymin=0,
    ymax=46,
    xtick pos=bottom,
    xtick distance=5,
    xticklabel shift=-1pt,
    tick label style={font=\sansmath\sffamily},
    every axis label={font=\sansmath\sffamily},
    label style={font=\sansmath\sffamily},
    ymajorgrids=true,
    major grid style={line width=0.8pt,draw=gray!55},
    axis background/.style={fill=bg},
  },
  every axis plot/.append style={
    line width=0.8pt,
    mark=*,
    forget plot,
  },
  area legend/.style={
    legend image code/.code={
      \draw[#1] (0cm,-0.1cm) rectangle (0.35cm,0.1cm);
    },
  },
  highlight/.style={
    preaction={
      on layer=pre main,
      line width=6pt,
      opacity=0.5,
      line cap=round,
      line join=round,
      yellow,
    },
  },
}
\begin{document}
\pagecolor{white}
\begin{tikzpicture}[
  every mark/.append style={mark size=1pt},
]
\begin{axis}[
  name=u32,
  xmax=10.9,
  xlabel={digits in u32},
  ylabel={duration\enskip(\kern-1pt nanoseconds\kern-1pt)},
  yticklabel shift=-1.25pt,
  set layers,
  legend style={anchor=north west, at={(0.1,0.975)}, font=\sansmath\sffamily},
  legend cell align=left,
]
  \addlegendentry{std::write!(\&mut buf, \textquotedbl\{\}\textquotedbl, value)}
  \addlegendimage{color=std, fill, area legend}
  \addplot[color=std] coordinates {
    (1, 17.73)
    (2, 17.08)
    (3, 17.19)
    (4, 17.61)
    (5, 17.92)
    (6, 18.61)
    (7, 18.78)
    (8, 20.02)
    (9, 20.22)
    (10, 20.58)
  };
  \addlegendentry{value.format\_into(\&mut NumBuffer::new())}
  \addlegendimage{color=numbuffer, fill, area legend}
  \addplot[color=numbuffer] coordinates {
    (1, 4.61)
    (2, 4.13)
    (3, 4.14)
    (4, 4.60)
    (5, 4.85)
    (6, 5.15)
    (7, 5.53)
    (8, 6.54)
    (9, 6.90)
    (10, 7.53)
  };
  \addlegendentry{itoa::Buffer::new().format(value)}
  \addlegendimage{color=itoa, fill, area legend}
  \addplot[color=itoa] coordinates {
    (1, 5.29)
    (2, 4.01)
    (3, 4.50)
    (4, 4.99)
    (5, 4.99)
    (6, 4.79)
    (7, 4.92)
    (8, 5.76)
    (9, 6.38)
    (10, 6.10)
  };
  \addlegendentry{lexical\_core::write(value, \&mut buf)}
  \addlegendimage{color=lexical, fill, area legend}
  \addplot[color=lexical] coordinates {
    (1, 3.39)
    (2, 3.15)
    (3, 2.90)
    (4, 3.16)
    (5, 3.65)
    (6, 3.89)
    (7, 4.16)
    (8, 4.17)
    (9, 4.82)
    (10, 5.05)
  };
  \addlegendentry{drop(value)}
  \addlegendimage{color=null, fill, area legend}
  \addplot[color=null] coordinates {
    (1, 1.81)
    (2, 1.82)
    (3, 1.81)
    (4, 1.81)
    (5, 1.81)
    (6, 1.81)
    (7, 1.82)
    (8, 1.83)
    (9, 1.81)
    (10, 1.81)
  };
\end{axis}
\begin{axis}[
  name=u64,
  at=(u32.east),
  anchor=west,
  xshift=3pt,
  xmax=20.9,
  xlabel={digits in u64},
  yticklabel=\empty,
  set layers,
]
  \addplot[color=std] coordinates {
    (1, 17.65)
    (2, 16.88)
    (3, 16.99)
    (4, 17.79)
    (5, 18.06)
    (6, 18.49)
    (7, 18.59)
    (8, 19.51)
    (9, 19.76)
    (10, 20.35)
    (11, 20.65)
    (12, 21.45)
    (13, 21.78)
    (14, 22.63)
    (15, 22.82)
    (16, 23.67)
    (17, 23.94)
    (18, 24.75)
    (19, 24.95)
    (20, 25.38)
  };
  \addplot[color=numbuffer] coordinates {
    (1, 5.04)
    (2, 4.35)
    (3, 4.35)
    (4, 4.58)
    (5, 4.69)
    (6, 5.51)
    (7, 5.83)
    (8, 5.90)
    (9, 6.28)
    (10, 7.09)
    (11, 7.48)
    (12, 7.72)
    (13, 8.14)
    (14, 9.18)
    (15, 9.69)
    (16, 9.78)
    (17, 10.60)
    (18, 12.51)
    (19, 11.93)
    (20, 12.79)
  };
  \addplot[color=itoa] coordinates {
    (1, 4.90)
    (2, 4.35)
    (3, 4.12)
    (4, 4.37)
    (5, 4.62)
    (6, 4.75)
    (7, 5.05)
    (8, 5.77)
    (9, 6.11)
    (10, 6.42)
    (11, 6.88)
    (12, 7.55)
    (13, 8.40)
    (14, 7.97)
    (15, 8.49)
    (16, 10.22)
    (17, 9.48)
    (18, 11.79)
    (19, 11.01)
    (20, 10.62)
  };
  \addplot[color=lexical] coordinates {
    (1, 3.08)
    (2, 2.81)
    (3, 3.09)
    (4, 3.31)
    (5, 4.34)
    (6, 4.28)
    (7, 4.36)
    (8, 4.70)
    (9, 4.79)
    (10, 5.43)
    (11, 6.58)
    (12, 6.35)
    (13, 7.48)
    (14, 7.39)
    (15, 7.92)
    (16, 8.15)
    (17, 8.94)
    (18, 9.27)
    (19, 9.82)
    (20, 10.08)
  };
  \addplot[color=null] coordinates {
    (1, 1.80)
    (2, 1.81)
    (3, 1.80)
    (4, 1.80)
    (5, 1.80)
    (6, 1.80)
    (7, 1.81)
    (8, 1.80)
    (9, 1.80)
    (10, 1.80)
    (11, 1.80)
    (12, 1.81)
    (13, 1.80)
    (14, 1.81)
    (15, 1.81)
    (16, 1.80)
    (17, 1.80)
    (18, 1.81)
    (19, 1.80)
    (20, 1.80)
  };
\end{axis}
\begin{axis}[
  name=u128,
  at=(u64.east),
  anchor=west,
  xshift=6pt,
  xmax=39.9,
  xlabel={digits in u128},
  yticklabel=\empty,
  set layers,
]
  \addplot[color=std] coordinates {
    (1, 19.79)
    (2, 19.59)
    (3, 19.79)
    (4, 19.72)
    (5, 19.81)
    (6, 20.42)
    (7, 20.54)
    (8, 21.07)
    (9, 21.23)
    (10, 21.94)
    (11, 22.25)
    (12, 22.92)
    (13, 23.23)
    (14, 24.10)
    (15, 24.24)
    (16, 24.91)
    (17, 30.07)
    (18, 30.85)
    (19, 31.02)
    (20, 31.50)
    (21, 31.83)
    (22, 32.30)
    (23, 32.58)
    (24, 32.75)
    (25, 32.93)
    (26, 33.55)
    (27, 33.87)
    (28, 34.31)
    (29, 34.44)
    (30, 35.05)
    (31, 35.32)
    (32, 36.70)
    (33, 40.80)
    (34, 41.47)
    (35, 41.85)
    (36, 42.39)
    (37, 42.58)
    (38, 43.31)
    (39, 43.76)
  };
  \addplot[color=numbuffer] coordinates {
    (1, 7.51)
    (2, 6.96)
    (3, 6.92)
    (4, 6.93)
    (5, 6.92)
    (6, 7.45)
    (7, 7.63)
    (8, 7.81)
    (9, 8.02)
    (10, 8.70)
    (11, 8.88)
    (12, 9.35)
    (13, 9.70)
    (14, 10.64)
    (15, 10.66)
    (16, 11.27)
    (17, 16.57)
    (18, 17.03)
    (19, 17.37)
    (20, 18.04)
    (21, 18.64)
    (22, 18.74)
    (23, 18.91)
    (24, 19.13)
    (25, 19.75)
    (26, 20.18)
    (27, 20.29)
    (28, 20.65)
    (29, 21.14)
    (30, 21.79)
    (31, 21.83)
    (32, 22.28)
    (33, 26.30)
    (34, 27.05)
    (35, 27.24)
    (36, 27.77)
    (37, 28.19)
    (38, 28.50)
    (39, 29.14)
  };
  \addplot[color=itoa] coordinates {
    (1, 5.08)
    (2, 5.22)
    (3, 5.22)
    (4, 5.40)
    (5, 5.58)
    (6, 6.17)
    (7, 6.53)
    (8, 6.73)
    (9, 6.90)
    (10, 7.42)
    (11, 7.80)
    (12, 8.23)
    (13, 8.45)
    (14, 9.20)
    (15, 10.07)
    (16, 10.11)
    (17, 15.21)
    (18, 15.70)
    (19, 15.73)
    (20, 16.61)
    (21, 16.45)
    (22, 17.33)
    (23, 17.28)
    (24, 17.66)
    (25, 17.70)
    (26, 18.35)
    (27, 18.89)
    (28, 19.74)
    (29, 19.91)
    (30, 20.04)
    (31, 20.39)
    (32, 20.82)
    (33, 24.18)
    (34, 25.11)
    (35, 25.95)
    (36, 26.69)
    (37, 26.64)
    (38, 26.26)
    (39, 26.90)
  };
  \addplot[color=lexical] coordinates {
    (1, 4.15)
    (2, 4.14)
    (3, 4.63)
    (4, 4.63)
    (5, 6.35)
    (6, 6.48)
    (7, 7.23)
    (8, 7.32)
    (9, 7.75)
    (10, 7.95)
    (11, 9.53)
    (12, 9.50)
    (13, 10.39)
    (14, 10.47)
    (15, 11.53)
    (16, 11.59)
    (17, 12.30)
    (18, 12.49)
    (19, 13.41)
    (20, 13.98)
    (21, 14.75)
    (22, 14.83)
    (23, 18.34)
    (24, 17.87)
    (25, 19.02)
    (26, 18.89)
    (27, 20.36)
    (28, 19.95)
    (29, 20.76)
    (30, 20.61)
    (31, 22.08)
    (32, 21.14)
    (33, 25.72)
    (34, 25.06)
    (35, 26.24)
    (36, 25.56)
    (37, 26.15)
    (38, 26.62)
    (39, 27.05)
  };
  \addplot[color=null] coordinates {
    (1, 1.83)
    (2, 1.82)
    (3, 1.83)
    (4, 1.82)
    (5, 1.81)
    (6, 1.81)
    (7, 1.82)
    (8, 1.82)
    (9, 1.83)
    (10, 1.83)
    (11, 1.82)
    (12, 1.82)
    (13, 1.82)
    (14, 1.82)
    (15, 1.83)
    (16, 1.83)
    (17, 1.82)
    (18, 1.82)
    (19, 1.83)
    (20, 1.82)
    (21, 1.82)
    (22, 1.82)
    (23, 1.83)
    (24, 1.83)
    (25, 1.83)
    (26, 1.83)
    (27, 1.82)
    (28, 1.83)
    (29, 1.82)
    (30, 1.83)
    (31, 1.82)
    (32, 1.84)
    (33, 1.83)
    (34, 1.83)
    (35, 1.83)
    (36, 1.83)
    (37, 1.82)
    (38, 1.83)
    (39, 1.82)
  };
\end{axis}
\pgfresetboundingbox\path
  (u32.south west) -- ++(-0.4in,-0.39in)
  rectangle (u128.north east) -- ++(9pt,3pt);
\end{tikzpicture}
\end{document}
