\documentclass{standalone}
\usepackage{pgfplots}
\usepackage{sansmath}
\pgfplotsset{compat=1.16}
\definecolor{bg}{HTML}{D8D8D8}
\definecolor{std}{HTML}{1F77B4}
\definecolor{numbuffer}{HTML}{FF7F0E}
\definecolor{itoa}{HTML}{9467BD}
\definecolor{lexical}{HTML}{D62728}
\definecolor{null}{HTML}{2CA02C}
\tikzset{
  on layer/.code={
    \pgfonlayer{#1}\begingroup
    \aftergroup\endpgfonlayer
    \aftergroup\endgroup
  },
}
\pgfplotsset{
  every axis/.append style={
    x=5pt,
    height=3.5in,
    xmin=0.1,
    ymin=0,
    ymax=21.5,
    xtick pos=bottom,
    xtick distance=5,
    xticklabel shift=-1pt,
    tick label style={font=\sansmath\sffamily},
    every axis label={font=\sansmath\sffamily},
    label style={font=\sansmath\sffamily},
    ymajorgrids=true,
    major grid style={line width=0.8pt,draw=gray!55},
    axis background/.style={fill=bg},
  },
  every axis plot/.append style={
    line width=0.8pt,
    mark=*,
    forget plot,
  },
  area legend/.style={
    legend image code/.code={
      \draw[#1] (0cm,-0.1cm) rectangle (0.35cm,0.1cm);
    },
  },
  highlight/.style={
    preaction={
      on layer=pre main,
      line width=6pt,
      opacity=0.5,
      line cap=round,
      line join=round,
      yellow,
    },
  },
}
\begin{document}
\pagecolor{white}
\begin{tikzpicture}[
  every mark/.append style={mark size=1pt},
]
\begin{axis}[
  name=u32,
  xmax=10.9,
  xlabel={digits in u32},
  ylabel={duration\enskip(\kern-1pt nanoseconds\kern-1pt)},
  yticklabel shift=-1.25pt,
  set layers,
  legend style={anchor=north west, at={(0.1,0.975)}, font=\sansmath\sffamily},
  legend cell align=left,
]
  \addlegendentry{std::write!(\&mut buf, \textquotedbl\{\}\textquotedbl, value)}
  \addlegendimage{color=std, fill, area legend}
  \addplot[color=std] coordinates {
    (1, 8.35)
    (2, 7.85)
    (3, 8.09)
    (4, 8.29)
    (5, 8.49)
    (6, 8.72)
    (7, 8.98)
    (8, 9.18)
    (9, 9.20)
    (10, 9.64)
  };
  \addlegendentry{value.format\_into(\&mut NumBuffer::new())}
  \addlegendimage{color=numbuffer, fill, area legend}
  \addplot[color=numbuffer] coordinates {
    (1, 3.18)
    (2, 2.39)
    (3, 2.58)
    (4, 2.58)
    (5, 2.58)
    (6, 2.58)
    (7, 2.77)
    (8, 2.94)
    (9, 2.95)
    (10, 3.16)
  };
  \addlegendentry{itoa::Buffer::new().format(value)}
  \addlegendimage{color=itoa, fill, area legend}
  \addplot[color=itoa] coordinates {
    (1, 3.16)
    (2, 2.41)
    (3, 2.59)
    (4, 2.59)
    (5, 2.78)
    (6, 2.60)
    (7, 2.78)
    (8, 2.59)
    (9, 2.78)
    (10, 2.78)
  };
  \addlegendentry{lexical\_core::write(value, \&mut buf)}
  \addlegendimage{color=lexical, fill, area legend}
  \addplot[color=lexical] coordinates {
    (1, 1.66)
    (2, 1.78)
    (3, 1.66)
    (4, 1.84)
    (5, 1.84)
    (6, 2.03)
    (7, 2.03)
    (8, 2.03)
    (9, 2.33)
    (10, 2.38)
  };
  \addlegendentry{drop(value)}
  \addlegendimage{color=null, fill, area legend}
  \addplot[color=null] coordinates {
    (1, 0.92)
    (2, 0.96)
    (3, 0.97)
    (4, 0.98)
    (5, 0.98)
    (6, 0.97)
    (7, 0.99)
    (8, 0.99)
    (9, 0.99)
    (10, 0.99)
  };
\end{axis}
\begin{axis}[
  name=u64,
  at=(u32.east),
  anchor=west,
  xshift=3pt,
  xmax=20.9,
  xlabel={digits in u64},
  yticklabel=\empty,
  set layers,
]
  \addplot[color=std] coordinates {
    (1, 8.53)
    (2, 7.84)
    (3, 8.05)
    (4, 8.26)
    (5, 8.49)
    (6, 8.71)
    (7, 8.99)
    (8, 9.19)
    (9, 9.36)
    (10, 9.78)
    (11, 9.95)
    (12, 10.10)
    (13, 10.42)
    (14, 10.82)
    (15, 11.00)
    (16, 11.30)
    (17, 11.61)
    (18, 12.21)
    (19, 12.51)
    (20, 12.64)
  };
  \addplot[color=numbuffer] coordinates {
    (1, 3.14)
    (2, 2.58)
    (3, 2.58)
    (4, 2.58)
    (5, 2.58)
    (6, 2.77)
    (7, 2.77)
    (8, 2.95)
    (9, 2.95)
    (10, 3.23)
    (11, 3.34)
    (12, 3.52)
    (13, 3.71)
    (14, 4.00)
    (15, 4.15)
    (16, 4.36)
    (17, 4.49)
    (18, 4.84)
    (19, 5.03)
    (20, 5.26)
  };
  \addplot[color=itoa] coordinates {
    (1, 3.12)
    (2, 2.40)
    (3, 2.58)
    (4, 2.58)
    (5, 2.76)
    (6, 2.58)
    (7, 2.76)
    (8, 2.76)
    (9, 2.95)
    (10, 3.04)
    (11, 3.19)
    (12, 3.47)
    (13, 3.67)
    (14, 3.78)
    (15, 3.96)
    (16, 4.17)
    (17, 4.39)
    (18, 4.52)
    (19, 4.72)
    (20, 4.36)
  };
  \addplot[color=lexical] coordinates {
    (1, 1.81)
    (2, 1.92)
    (3, 2.04)
    (4, 1.86)
    (5, 2.08)
    (6, 2.24)
    (7, 2.23)
    (8, 2.23)
    (9, 2.39)
    (10, 2.62)
    (11, 3.16)
    (12, 3.18)
    (13, 3.64)
    (14, 3.59)
    (15, 3.98)
    (16, 3.97)
    (17, 4.29)
    (18, 4.32)
    (19, 4.65)
    (20, 4.76)
  };
  \addplot[color=null] coordinates {
    (1, 0.92)
    (2, 0.92)
    (3, 0.92)
    (4, 0.92)
    (5, 0.92)
    (6, 0.92)
    (7, 0.92)
    (8, 0.92)
    (9, 0.92)
    (10, 0.92)
    (11, 0.92)
    (12, 0.92)
    (13, 0.92)
    (14, 0.95)
    (15, 0.95)
    (16, 0.95)
    (17, 0.95)
    (18, 0.95)
    (19, 0.95)
    (20, 0.95)
  };
\end{axis}
\begin{axis}[
  name=u128,
  at=(u64.east),
  anchor=west,
  xshift=6pt,
  xmax=39.9,
  xlabel={digits in u128},
  yticklabel=\empty,
  set layers,
]
  \addplot[color=std] coordinates {
    (1, 9.43)
    (2, 8.75)
    (3, 8.89)
    (4, 9.23)
    (5, 9.30)
    (6, 9.59)
    (7, 9.65)
    (8, 9.91)
    (9, 9.98)
    (10, 10.32)
    (11, 10.49)
    (12, 10.92)
    (13, 11.14)
    (14, 11.64)
    (15, 11.88)
    (16, 11.91)
    (17, 14.60)
    (18, 15.39)
    (19, 15.46)
    (20, 15.68)
    (21, 15.83)
    (22, 16.29)
    (23, 16.58)
    (24, 16.72)
    (25, 16.89)
    (26, 17.31)
    (27, 17.63)
    (28, 17.57)
    (29, 17.83)
    (30, 18.08)
    (31, 18.27)
    (32, 18.28)
    (33, 19.14)
    (34, 19.55)
    (35, 19.67)
    (36, 19.84)
    (37, 19.89)
    (38, 20.33)
    (39, 20.40)
  };
  \addplot[color=numbuffer] coordinates {
    (1, 4.30)
    (2, 4.10)
    (3, 3.93)
    (4, 3.92)
    (5, 3.93)
    (6, 4.29)
    (7, 4.48)
    (8, 4.12)
    (9, 4.30)
    (10, 4.28)
    (11, 4.39)
    (12, 4.48)
    (13, 4.67)
    (14, 5.00)
    (15, 5.08)
    (16, 5.29)
    (17, 7.56)
    (18, 8.07)
    (19, 8.18)
    (20, 8.45)
    (21, 8.62)
    (22, 9.12)
    (23, 9.33)
    (24, 9.65)
    (25, 9.82)
    (26, 10.33)
    (27, 10.48)
    (28, 10.60)
    (29, 10.76)
    (30, 11.06)
    (31, 11.09)
    (32, 11.14)
    (33, 12.02)
    (34, 12.52)
    (35, 12.68)
    (36, 12.81)
    (37, 12.83)
    (38, 13.27)
    (39, 13.41)
  };
  \addplot[color=itoa] coordinates {
    (1, 3.52)
    (2, 3.17)
    (3, 3.35)
    (4, 3.15)
    (5, 3.16)
    (6, 3.31)
    (7, 3.31)
    (8, 3.36)
    (9, 3.44)
    (10, 3.60)
    (11, 3.78)
    (12, 3.96)
    (13, 4.11)
    (14, 4.34)
    (15, 4.51)
    (16, 4.72)
    (17, 6.18)
    (18, 6.40)
    (19, 6.61)
    (20, 6.82)
    (21, 7.09)
    (22, 7.53)
    (23, 7.96)
    (24, 8.04)
    (25, 8.40)
    (26, 8.61)
    (27, 8.98)
    (28, 9.02)
    (29, 9.43)
    (30, 9.64)
    (31, 9.85)
    (32, 9.80)
    (33, 10.67)
    (34, 10.96)
    (35, 11.19)
    (36, 11.34)
    (37, 11.67)
    (38, 11.85)
    (39, 12.17)
  };
  \addplot[color=lexical] coordinates {
    (1, 1.89)
    (2, 2.05)
    (3, 1.92)
    (4, 2.07)
    (5, 2.98)
    (6, 2.95)
    (7, 3.36)
    (8, 3.36)
    (9, 3.46)
    (10, 3.57)
    (11, 4.45)
    (12, 4.47)
    (13, 4.84)
    (14, 4.80)
    (15, 5.29)
    (16, 5.29)
    (17, 5.67)
    (18, 5.66)
    (19, 5.92)
    (20, 6.28)
    (21, 6.46)
    (22, 6.50)
    (23, 8.48)
    (24, 8.11)
    (25, 8.61)
    (26, 8.60)
    (27, 9.09)
    (28, 9.05)
    (29, 9.47)
    (30, 9.95)
    (31, 9.59)
    (32, 9.58)
    (33, 11.62)
    (34, 11.12)
    (35, 11.83)
    (36, 11.85)
    (37, 12.19)
    (38, 12.21)
    (39, 12.59)
  };
  \addplot[color=null] coordinates {
    (1, 1.03)
    (2, 1.03)
    (3, 1.04)
    (4, 1.04)
    (5, 1.06)
    (6, 1.06)
    (7, 1.06)
    (8, 1.06)
    (9, 1.06)
    (10, 1.06)
    (11, 1.06)
    (12, 1.06)
    (13, 1.06)
    (14, 1.06)
    (15, 1.06)
    (16, 1.06)
    (17, 1.07)
    (18, 1.07)
    (19, 1.09)
    (20, 1.09)
    (21, 1.09)
    (22, 1.09)
    (23, 1.11)
    (24, 1.09)
    (25, 1.09)
    (26, 1.09)
    (27, 1.10)
    (28, 1.11)
    (29, 1.10)
    (30, 1.12)
    (31, 1.12)
    (32, 1.12)
    (33, 1.12)
    (34, 1.12)
    (35, 1.12)
    (36, 1.12)
    (37, 1.12)
    (38, 1.10)
    (39, 1.11)
  };
\end{axis}
\pgfresetboundingbox\path
  (u32.south west) -- ++(-0.4in,-0.39in)
  rectangle (u128.north east) -- ++(9pt,3pt);
\end{tikzpicture}
\end{document}
